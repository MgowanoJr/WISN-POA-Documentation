<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>wisn-poa documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">wisn-poa documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">







<ol class="breadcrumb">
  <li>Injectables</li>
  <li>OrgUnitService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/shared/modules/org-unit-filter/org-unit.service.ts</code>
        </p>




            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_userInfo">_userInfo</a>
                            </li>
                            <li>
                                <a href="#initialOrgUnits">initialOrgUnits</a>
                            </li>
                            <li>
                                <a href="#nodes">nodes</a>
                            </li>
                            <li>
                                <a href="#orgUnitGroups">orgUnitGroups</a>
                            </li>
                            <li>
                                <a href="#orgUnitLevels">orgUnitLevels</a>
                            </li>
                            <li>
                                <a href="#userOrgUnits">userOrgUnits</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#generateUrlBasedOnLevels">generateUrlBasedOnLevels</a>
                            </li>
                            <li>
                                <a href="#getAllOrgunitsForTree1">getAllOrgunitsForTree1</a>
                            </li>
                            <li>
                                <a href="#getCurrentOrgUnitAncestors">getCurrentOrgUnitAncestors</a>
                            </li>
                            <li>
                                <a href="#getInitialOrgunitsForTree">getInitialOrgunitsForTree</a>
                            </li>
                            <li>
                                <a href="#getOrgunitById">getOrgunitById</a>
                            </li>
                            <li>
                                <a href="#getOrgunitGroups">getOrgunitGroups</a>
                            </li>
                            <li>
                                <a href="#getOrgunitLevelsInformation">getOrgunitLevelsInformation</a>
                            </li>
                            <li>
                                <a href="#getUserHighestOrgUnitlevel">getUserHighestOrgUnitlevel</a>
                            </li>
                            <li>
                                <a href="#getUserInformation">getUserInformation</a>
                            </li>
                            <li>
                                <a href="#getuserOrganisationUnitsWithHighestlevel">getuserOrganisationUnitsWithHighestlevel</a>
                            </li>
                            <li>
                                <a href="#getUserOrgUnits">getUserOrgUnits</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(http: <a href="../injectables/HttpClientService.html">HttpClientService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="14" class="link-to-prism">src/app/shared/modules/org-unit-filter/org-unit.service.ts:14</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>http</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/HttpClientService.html" target="_self" >HttpClientService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateUrlBasedOnLevels"></a>
                    <span class="name">
                        <b>
                            generateUrlBasedOnLevels
                        </b>
                        <a href="#generateUrlBasedOnLevels"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>generateUrlBasedOnLevels(level)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="174"
                            class="link-to-prism">src/app/shared/modules/org-unit-filter/org-unit.service.ts:174</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>level</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getAllOrgunitsForTree1"></a>
                    <span class="name">
                        <b>
                            getAllOrgunitsForTree1
                        </b>
                        <a href="#getAllOrgunitsForTree1"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getAllOrgunitsForTree1(fields: null, orgunits: null)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="236"
                            class="link-to-prism">src/app/shared/modules/org-unit-filter/org-unit.service.ts:236</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>fields</td>
                                    <td>
                                            <code>null</code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>null</code>
                                    </td>

                                </tr>
                                <tr>
                                    <td>orgunits</td>
                                    <td>
                                            <code>null</code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>null</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getCurrentOrgUnitAncestors"></a>
                    <span class="name">
                        <b>
                            getCurrentOrgUnitAncestors
                        </b>
                        <a href="#getCurrentOrgUnitAncestors"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getCurrentOrgUnitAncestors(id)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="106"
                            class="link-to-prism">src/app/shared/modules/org-unit-filter/org-unit.service.ts:106</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getInitialOrgunitsForTree"></a>
                    <span class="name">
                        <b>
                            getInitialOrgunitsForTree
                        </b>
                        <a href="#getInitialOrgunitsForTree"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getInitialOrgunitsForTree(orgunits)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="265"
                            class="link-to-prism">src/app/shared/modules/org-unit-filter/org-unit.service.ts:265</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>orgunits</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getOrgunitById"></a>
                    <span class="name">
                        <b>
                            getOrgunitById
                        </b>
                        <a href="#getOrgunitById"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getOrgunitById(id)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="75"
                            class="link-to-prism">src/app/shared/modules/org-unit-filter/org-unit.service.ts:75</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getOrgunitGroups"></a>
                    <span class="name">
                        <b>
                            getOrgunitGroups
                        </b>
                        <a href="#getOrgunitGroups"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getOrgunitGroups()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="213"
                            class="link-to-prism">src/app/shared/modules/org-unit-filter/org-unit.service.ts:213</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getOrgunitLevelsInformation"></a>
                    <span class="name">
                        <b>
                            getOrgunitLevelsInformation
                        </b>
                        <a href="#getOrgunitLevelsInformation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getOrgunitLevelsInformation()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="188"
                            class="link-to-prism">src/app/shared/modules/org-unit-filter/org-unit.service.ts:188</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getUserHighestOrgUnitlevel"></a>
                    <span class="name">
                        <b>
                            getUserHighestOrgUnitlevel
                        </b>
                        <a href="#getUserHighestOrgUnitlevel"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getUserHighestOrgUnitlevel(userOrgunits)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="119"
                            class="link-to-prism">src/app/shared/modules/org-unit-filter/org-unit.service.ts:119</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>get the highest level among organisation units that user belongs to</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>userOrgunits</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getUserInformation"></a>
                    <span class="name">
                        <b>
                            getUserInformation
                        </b>
                        <a href="#getUserInformation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getUserInformation(priority: null)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="19"
                            class="link-to-prism">src/app/shared/modules/org-unit-filter/org-unit.service.ts:19</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>priority</td>
                                    <td>
                                            <code>null</code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>null</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getuserOrganisationUnitsWithHighestlevel"></a>
                    <span class="name">
                        <b>
                            getuserOrganisationUnitsWithHighestlevel
                        </b>
                        <a href="#getuserOrganisationUnitsWithHighestlevel"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getuserOrganisationUnitsWithHighestlevel(level, userOrgunits)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="48"
                            class="link-to-prism">src/app/shared/modules/org-unit-filter/org-unit.service.ts:48</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>level</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>userOrgunits</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getUserOrgUnits"></a>
                    <span class="name">
                        <b>
                            getUserOrgUnits
                        </b>
                        <a href="#getUserOrgUnits"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getUserOrgUnits(userOrgunits)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="153"
                            class="link-to-prism">src/app/shared/modules/org-unit-filter/org-unit.service.ts:153</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>get the list of user orgunits as an array</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>userOrgunits</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="_userInfo"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            _userInfo</b>
                            <a href="#_userInfo"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>null</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="14" class="link-to-prism">src/app/shared/modules/org-unit-filter/org-unit.service.ts:14</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="initialOrgUnits"></a>
                        <span class="name">
                            <b>
                            initialOrgUnits</b>
                            <a href="#initialOrgUnits"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>any[]</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>[]</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="13" class="link-to-prism">src/app/shared/modules/org-unit-filter/org-unit.service.ts:13</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="nodes"></a>
                        <span class="name">
                            <b>
                            nodes</b>
                            <a href="#nodes"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>any[]</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>null</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="9" class="link-to-prism">src/app/shared/modules/org-unit-filter/org-unit.service.ts:9</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="orgUnitGroups"></a>
                        <span class="name">
                            <b>
                            orgUnitGroups</b>
                            <a href="#orgUnitGroups"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>any[]</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>[]</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="12" class="link-to-prism">src/app/shared/modules/org-unit-filter/org-unit.service.ts:12</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="orgUnitLevels"></a>
                        <span class="name">
                            <b>
                            orgUnitLevels</b>
                            <a href="#orgUnitLevels"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>any[]</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>[]</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="10" class="link-to-prism">src/app/shared/modules/org-unit-filter/org-unit.service.ts:10</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="userOrgUnits"></a>
                        <span class="name">
                            <b>
                            userOrgUnits</b>
                            <a href="#userOrgUnits"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>any[]</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>[]</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="11" class="link-to-prism">src/app/shared/modules/org-unit-filter/org-unit.service.ts:11</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable } from &#x27;@angular/core&#x27;;
import { Observable } from &#x27;rxjs/Observable&#x27;;
import { HttpClientService } from &#x27;../../../core/services/http-client.service&#x27;;
import { catchError } from &#x27;rxjs/operators&#x27;;
import { of } from &#x27;rxjs/observable/of&#x27;;

@Injectable()
export class OrgUnitService {
  nodes: any[] &#x3D; null;
  orgUnitLevels: any[] &#x3D; [];
  userOrgUnits: any[] &#x3D; [];
  orgUnitGroups: any[] &#x3D; [];
  initialOrgUnits: any[] &#x3D; [];
  private _userInfo: any &#x3D; null;

  constructor(private http: HttpClientService) {}

  // Get current user information
  getUserInformation(priority &#x3D; null) {
    return Observable.create(observer &#x3D;&gt; {
      if (this._userInfo !&#x3D;&#x3D; null) {
        observer.next(this._userInfo);
        observer.complete();
      } else {
        const userInfoCall: Observable&lt;any&gt; &#x3D;
          priority &#x3D;&#x3D;&#x3D; false
            ? this.http.get(
                &#x27;me.json?fields&#x3D;dataViewOrganisationUnits[id,name,level],organisationUnits[id,name,level,children[id,name,children[id,name,children[id,name]]]]&#x27;
              )
            : this.http.get(
                &#x27;me.json?fields&#x3D;organisationUnits[id,name,level,parent[id,name],children[id,name,parent[id,name],children[id,name,parent[id,name],children[id,name]]]]&#x27;
              );

        userInfoCall.subscribe(
          (userInfo: any) &#x3D;&gt; {
            this._userInfo &#x3D; Object.assign({}, userInfo);
            observer.next(this._userInfo);
            observer.complete();
          },
          error &#x3D;&gt; {
            console.log(error);
          }
        );
      }
    });
  }

  getuserOrganisationUnitsWithHighestlevel(level, userOrgunits) {
    const orgunits &#x3D; [];
    if (!userOrgunits.hasOwnProperty(&#x27;dataViewOrganisationUnits&#x27;)) {
      userOrgunits.organisationUnits.forEach(orgunit &#x3D;&gt; {
        if (orgunit.level &#x3D;&#x3D;&#x3D; level) {
          orgunits.push(orgunit.id);
        }
      });
    } else {
      if (userOrgunits.dataViewOrganisationUnits.length &#x3D;&#x3D;&#x3D; 0) {
        userOrgunits.organisationUnits.forEach(orgunit &#x3D;&gt; {
          if (orgunit.level &#x3D;&#x3D;&#x3D; level) {
            orgunits.push(orgunit.id);
          }
        });
      } else {
        level &#x3D; userOrgunits.dataViewOrganisationUnits[0].level;
        userOrgunits.dataViewOrganisationUnits.forEach(orgunit &#x3D;&gt; {
          if (orgunit.level &#x3D;&#x3D;&#x3D; level) {
            orgunits.push(orgunit.id);
          }
        });
      }
    }
    return orgunits;
  }

  getOrgunitById(id) {
    // TODO: Need to find ways to know exact number of children level
    return this.http
      .get(
        &#x27;organisationUnits/&#x27; +
          id +
          &#x27;.json?fields&#x3D;id,name,level,children[id,name,parent[id,name],level,children[id,name,level,parent[id,name],&#x27; +
          &#x27;children[id,parent[id,name],name,level]]],ancestors[id,name,level,code],parent[id,name,level],&#x27; +
          &#x27;dataSets[id,categoryCombo[*,categoryOptionCombos[*]],name,periodType,dataElements[id,name,valueType,attributeValues&#x27; +
          &#x27;[value,attribute[id,name,optionSet[options[id,name,code]]]]],attributeValues[value,attribute[id,name]]],&#x27; +
          &#x27;dataSets[id,name,periodType,openFuturePeriods,dataElements[id,name,valueType,attributeValues[value,attribute&#x27; +
          &#x27;[id,name,optionSet[options[id,name,code]]]],optionSet[id,name,options[id,name,code]]]]&#x27;
      )
      .pipe(catchError(() &#x3D;&gt; of(null)));
  }

  // getOrgunitById(id) {
  //   // TODO: Need to find ways to know exact number of children level
  //   return this.http
  //     .get(
  //       &#x27;organisationUnits/&#x27; +
  //         id +
  //         &#x27;.json?fields&#x3D;id,name,level,children[id,name,level,ancestors[id,level,name,children[id,name,level]],children[id,name,level,ancestors[id,name,level,children[id,name]],children[id,name,level,ancestors[id,name,level,children[id,name]],children[id,name,level,ancestors[id,name,level,children[id,name,level]],children[]]]],ancestors[id,name,level,children[id,name,level],code],parent[id,name],&#x27; +
  //         &#x27;dataSets[id,categoryCombo[*,categoryOptionCombos[*]],name,periodType,dataElements[id,name,valueType,attributeValues&#x27; +
  //         &#x27;[value,attribute[id,name,optionSet[options[id,name,code]]]]],attributeValues[value,attribute[id,name]]],&#x27; +
  //         &#x27;dataSets[id,name,periodType,openFuturePeriods,dataElements[id,name,valueType,attributeValues[value,attribute&#x27; +
  //         &#x27;[id,name,optionSet[options[id,name,code]]]],optionSet[id,name,options[id,name,code]]]]&#x27;
  //     )
  //     .pipe(catchError(() &#x3D;&gt; of(null)));
  // }

  getCurrentOrgUnitAncestors(id) {
    return this.http.get(
      &#x27;organisationUnits/&#x27; +
        id +
        &#x27;.json?fields&#x3D;ancestors[id,name,level,children[id,name,level,ancestors[id,name,level,children[id,name,level,ancestors[]]]]]&#x27;
    );
  }

  /**
   * get the highest level among organisation units that user belongs to
   * @param userOrgunits
   * @returns {any}
   */
  getUserHighestOrgUnitlevel(userOrgunits) {
    let level: any;
    if (!userOrgunits.hasOwnProperty(&#x27;dataViewOrganisationUnits&#x27;)) {
      level &#x3D; userOrgunits.organisationUnits[0].level;
      userOrgunits.organisationUnits.forEach(orgunit &#x3D;&gt; {
        if (orgunit.level &lt;&#x3D; level) {
          level &#x3D; orgunit.level;
        }
      });
    } else {
      if (userOrgunits.dataViewOrganisationUnits.length &#x3D;&#x3D;&#x3D; 0) {
        level &#x3D; userOrgunits.organisationUnits[0].level;
        userOrgunits.organisationUnits.forEach(orgunit &#x3D;&gt; {
          if (orgunit.level &lt;&#x3D; level) {
            level &#x3D; orgunit.level;
          }
        });
      } else {
        level &#x3D; userOrgunits.dataViewOrganisationUnits[0].level;
        userOrgunits.dataViewOrganisationUnits.forEach(orgunit &#x3D;&gt; {
          if (orgunit.level &lt;&#x3D; level) {
            level &#x3D; orgunit.level;
          }
        });
      }
    }
    return level;
  }

  /**
   * get the list of user orgunits as an array
   * @param userOrgunits
   * @returns {any}
   */
  getUserOrgUnits(userOrgunits) {
    const orgunits &#x3D; [];
    if (!userOrgunits.hasOwnProperty(&#x27;dataViewOrganisationUnits&#x27;)) {
      userOrgunits.organisationUnits.forEach(orgunit &#x3D;&gt; {
        orgunits.push(orgunit);
      });
    } else {
      if (userOrgunits.dataViewOrganisationUnits.length &#x3D;&#x3D;&#x3D; 0) {
        userOrgunits.organisationUnits.forEach(orgunit &#x3D;&gt; {
          orgunits.push(orgunit);
        });
      } else {
        userOrgunits.dataViewOrganisationUnits.forEach(orgunit &#x3D;&gt; {
          orgunits.push(orgunit);
        });
      }
    }
    return orgunits;
  }

  // Generate Organisation unit url based on the level needed
  generateUrlBasedOnLevels(level) {
    let childrenLevels &#x3D; &#x27;[]&#x27;;
    for (let i &#x3D; 1; i &lt; level + 1; i++) {
      childrenLevels &#x3D; childrenLevels.replace(
        &#x27;[]&#x27;,
        &#x27;[id,name,level,ancestors[id,name,level],parent[id,name],children[]]&#x27;
      );
    }
    let new_string &#x3D; childrenLevels.substring(1);
    new_string &#x3D; new_string.replace(&#x27;,children[]]&#x27;, &#x27;&#x27;);
    return new_string;
  }

  // Get system wide settings
  getOrgunitLevelsInformation() {
    return Observable.create(observer &#x3D;&gt; {
      if (this.orgUnitLevels.length !&#x3D;&#x3D; 0) {
        observer.next(this.orgUnitLevels);
        observer.complete();
      } else {
        this.http
          .get(
            &#x27;organisationUnitLevels.json?fields&#x3D;id,name,level,children[id,name]&amp;order&#x3D;level:asc&#x27;
          )
          .subscribe(
            (levels: any[]) &#x3D;&gt; {
              this.orgUnitLevels &#x3D; levels;
              observer.next(this.orgUnitLevels);
              observer.complete();
            },
            error &#x3D;&gt; {
              observer.error(&#x27;some error occur&#x27;);
            }
          );
      }
    });
  }

  // Get organisation unit groups information
  getOrgunitGroups() {
    return Observable.create(observer &#x3D;&gt; {
      if (this.orgUnitGroups.length !&#x3D;&#x3D; 0) {
        observer.next(this.orgUnitGroups);
        observer.complete();
      } else {
        this.http
          .get(&#x27;organisationUnitGroups.json?fields&#x3D;id,name&amp;paging&#x3D;false&#x27;)
          .subscribe(
            (groups: any) &#x3D;&gt; {
              this.orgUnitGroups &#x3D; groups.organisationUnitGroups;
              observer.next(this.orgUnitGroups);
              observer.complete();
            },
            error &#x3D;&gt; {
              observer.error(&#x27;some error occur&#x27;);
            }
          );
      }
    });
  }

  // Get orgunit for specific
  getAllOrgunitsForTree1(fields &#x3D; null, orgunits &#x3D; null) {
    return Observable.create(observer &#x3D;&gt; {
      if (this.nodes !&#x3D;&#x3D; null) {
        observer.next(this.nodes);
        observer.complete();
      } else {
        this.http
          .get(
            &#x27;organisationUnits.json?fields&#x3D;&#x27; +
              fields +
              &#x27;&amp;filter&#x3D;id:in:[&#x27; +
              orgunits.join(&#x27;,&#x27;) +
              &#x27;]&amp;paging&#x3D;false&#x27;
          )
          .subscribe(
            (nodes: any) &#x3D;&gt; {
              this.nodes &#x3D; nodes.organisationUnits;
              observer.next(this.nodes);
              observer.complete();
            },
            error &#x3D;&gt; {
              observer.error(&#x27;some error occured&#x27;);
            }
          );
      }
    });
  }

  // Get initial organisation units to speed up things during loading
  getInitialOrgunitsForTree(orgunits) {
    return Observable.create(observer &#x3D;&gt; {
      if (this.initialOrgUnits !&#x3D;&#x3D; null) {
        observer.next(this.initialOrgUnits);
        observer.complete();
      } else {
        this.http
          .get(
            &#x27;organisationUnits.json?fields&#x3D;id,name,level,children[id,name,children[id,name,level,children[id,name,level]]&amp;&#x27; +
              &#x27;filter&#x3D;id:in:[&#x27; +
              orgunits.join(&#x27;,&#x27;) +
              &#x27;]&amp;paging&#x3D;false&#x27;
          )
          .subscribe(
            (nodes: any) &#x3D;&gt; {
              this.initialOrgUnits &#x3D; nodes.organisationUnits;
              observer.next(this.initialOrgUnits);
              observer.complete();
            },
            error &#x3D;&gt; {
              observer.error(&#x27;some error occured&#x27;);
            }
          );
      }
    });
  }
}
</code></pre>
    </div>

</div>











                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'OrgUnitService.html';
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
